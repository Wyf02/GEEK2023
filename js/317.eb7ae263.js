"use strict";(self["webpackChunkwork"]=self["webpackChunkwork"]||[]).push([[317],{1317:function(e,l,t){t.r(l),t.d(l,{default:function(){return E}});var s=t(3396),o=t(9242),a=t(7139),n=t(6112);const i={class:"submission"},d=(0,s._)("div",{style:{height:"10px"}},null,-1),r={class:"upload-container",id:"drop_area"},u={class:"dropUp"},c=(0,s._)("img",{src:n},null,-1),p=(0,s._)("div",{style:{color:"white","font-size":"large","font-weight":"bold"}},"上传文件",-1),g=(0,s._)("br",null,null,-1),h=(0,s._)("div",{class:"upload__text"},"点击图标或将文件文件拖拽到此处上传",-1),b=(0,s._)("div",{class:"filestyle"},"支持文件格式：json等",-1),m=(0,s._)("div",{style:{height:"25px"}},null,-1),f={class:"report",style:{height:"10%","margin-top":"1.5%"}},_={class:"below",style:{height:"30%","margin-top":"1.5%"}},w={class:"table"},y=(0,s._)("caption",null,"最近提交",-1),v=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{border:"1px solid #7400bf"}},"应用名称"),(0,s._)("th",{style:{border:"1px solid #8946b8"}},"原SBOM规范"),(0,s._)("th",{style:{border:"1px solid #ac7eb0"}},"现SBOM规范"),(0,s._)("th",{style:{border:"1px solid  #df8cab"}},"上传时间"),(0,s._)("th",{style:{border:"1px solid #ff7bab"}},"操作")])],-1),M={style:{border:"1px solid #7400bf"}},S={style:{border:"1px solid #8946b8"}},V={style:{border:"1px solid #ac7eb0"}},D={style:{border:"1px solid  #df8cab"}},k={style:{border:"1px solid #ff7bab"}},x=(0,s._)("span",{style:{color:"#ff7bab"}},"原始文件",-1),O=[x],B=(0,s._)("span",{style:{color:"#ff7bab"}},"转换文件",-1),C=[B];function j(e,l,t,n,x,B){const j=(0,s.up)("el-upload"),z=(0,s.up)("el-option"),L=(0,s.up)("el-select"),A=(0,s.up)("el-button");return(0,s.wg)(),(0,s.iD)("div",i,[d,(0,s._)("div",r,[(0,s._)("div",u,[(0,s.Wm)(j,{class:"upload-demo",accept:".json","on-change":B.handleSuccess,"auto-upload":!1,"file-list":x.fileList,multiple:"",drag:"",ref:"el",limit:1},{default:(0,s.w5)((()=>[c,p,g,h,b])),_:1},8,["accept","on-change","file-list"])])]),m,(0,s.Wm)(L,{modelValue:x.selectedValue1,"onUpdate:modelValue":l[0]||(l[0]=e=>x.selectedValue1=e),placeholder:"请选择输入的规范",style:{"margin-right":"5%"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(x.SBOM,((e,l)=>((0,s.wg)(),(0,s.j4)(z,{label:e,value:e},null,8,["label","value"])))),256))])),_:1},8,["modelValue"]),(0,s.Wm)(L,{modelValue:x.selectedValue2,"onUpdate:modelValue":l[1]||(l[1]=e=>x.selectedValue2=e),placeholder:"请选择目标SBOM规范",style:{"margin-left":"5%"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(x.SBOM,((e,l)=>((0,s.wg)(),(0,s.j4)(z,{label:e,value:e},null,8,["label","value"])))),256))])),_:1},8,["modelValue"]),(0,s._)("div",f,[(0,s.Wm)(A,{class:"btn-sub",size:"medium",onClick:B.postFiles},{default:(0,s.w5)((()=>[(0,s.Uk)("开始转换")])),_:1},8,["onClick"])]),(0,s._)("div",_,[(0,s._)("div",w,[(0,s._)("table",null,[y,v,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",M,[(0,s.wy)((0,s._)("input",{type:"radio",name:"Appname",value:"DEMO","onUpdate:modelValue":l[2]||(l[2]=e=>x.selectDemo=e)},null,512),[[o.G2,x.selectDemo]]),(0,s._)("span",null,(0,a.zw)(x.name),1)]),(0,s._)("td",S,(0,a.zw)(x.origin),1),(0,s._)("td",V,(0,a.zw)(x.now),1),(0,s._)("td",D,(0,a.zw)(x.time),1),(0,s._)("td",k,[(0,s._)("button",{class:"btn-sc",style:{border:"none",background:"none",cursor:"pointer"},onClick:l[3]||(l[3]=(...e)=>B.downloadSBOM1&&B.downloadSBOM1(...e))},O),(0,s._)("button",{class:"btn-sc",style:{border:"none",background:"none",cursor:"pointer"},onClick:l[4]||(l[4]=(...e)=>B.downloadSBOM2&&B.downloadSBOM2(...e))},C)])])])])])])])}t(7658);var z={data(){return{selectDemo:!1,fileList:[],handleSuccessflag:!0,SBOM:["GEEKSBOM","CycloneDX","SPDX"],selectedValue2:"",selectedValue1:"",origin:"",now:"",name:"",time:""}},methods:{downloadSBOM1(){if(!this.origin)return void alert("请上传文件");let e=document.createElement("a");e.href="/static/"+this.origin+".json",e.style.display="none",e.setAttribute("download",""),document.body.appendChild(e),e.click(),e.remove()},downloadSBOM2(){if(!this.now)return void alert("请上传文件");let e=document.createElement("a");e.href="/static/"+this.now+".json",e.style.display="none",e.setAttribute("download",""),document.body.appendChild(e),e.click(),e.remove()},handleAlert(){return alert("您还不是会员"),!1},goToList(){this.selectDemo?(console.log(_this.selectedValue2),console.log(_this.selectedValue1)):alert("您还没有选中的项目！")},handleSuccess(e,l){if(!this.handleSuccessflag)return;console.log(e);const t="application/json"===e.raw.type;t?(console.log(e.raw.name+"上传成功"),this.fileList.push(l),this.$message({message:"上传成功",type:"success"}),setTimeout((()=>{this.$message.closeAll()}),2e3)):(this.fileList=[],this.$message.error("仅限上传json等格式文件"))},postFiles(){var e=this;0!==this.fileList.length?(this.handleSuccessflag=!1,this.$refs.el.submit(),this.$message.info("即将生成..."),setTimeout((()=>{var l=Date.parse(new Date);l/=1e3;var t=new Date(1e3*l),s=t.getFullYear()+".",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+".",a=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",n=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();e.time=s+o+a+n+i,e.name="dubbo",e.origin=e.selectedValue1,e.now=e.selectedValue2,console.log(e.time),console.log(e.name)}),300)):alert("请上传文件")}}},L=t(89);const A=(0,L.Z)(z,[["render",j]]);var E=A},6112:function(e,l,t){e.exports=t.p+"img/云.90750982.svg"}}]);
//# sourceMappingURL=317.eb7ae263.js.map