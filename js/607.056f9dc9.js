"use strict";(self["webpackChunkwork"]=self["webpackChunkwork"]||[]).push([[607],{8725:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});n(7658);var i=n(3396),a=n(7139),s=n.p+"img/横线2.38780a4c.svg";const l={class:"legends-checkbox-container"},r={class:"legends-checkbox-header"},o={class:"buttons-container"},d=(0,i._)("img",{src:s,alt:"",style:{width:"100%",display:"block",padding:"8px"}},null,-1),c={class:"legendsArea"},h=(0,i._)("br",null,null,-1),u=(0,i._)("br",null,null,-1),p=(0,i._)("br",null,null,-1),g=(0,i._)("br",null,null,-1),m=(0,i._)("br",null,null,-1);function f(e,t,n,a,s,f){const v=(0,i.up)("el-text"),x=(0,i.up)("el-button"),k=(0,i.up)("el-option"),y=(0,i.up)("el-select");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",null,[(0,i._)("div",r,[(0,i.Wm)(v,{style:{"font-size":"20pt"}},{default:(0,i.w5)((()=>[(0,i.Uk)("组件选择")])),_:1})]),(0,i._)("div",o,[(0,i.Wm)(x,{style:{width:"150px",height:"40px"},onClick:f.sendParent,type:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("点击提交")])),_:1},8,["onClick"])])]),d,(0,i._)("div",c,[(0,i.Uk)(" shortname: "),(0,i.Wm)(x,{onClick:f.selectAllShortname},{default:(0,i.w5)((()=>[(0,i.Uk)("全选")])),_:1},8,["onClick"]),(0,i.Wm)(x,{onClick:f.cancelSelectAllShortname},{default:(0,i.w5)((()=>[(0,i.Uk)("取消全选")])),_:1},8,["onClick"]),(0,i.Wm)(y,{modelValue:s.shortname,"onUpdate:modelValue":t[0]||(t[0]=e=>s.shortname=e),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"请选择",style:{width:"300px","padding-left":"20px",border:"none"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mlegendsList[0].shortname,((e,t)=>((0,i.wg)(),(0,i.j4)(k,{key:t,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),h,u,(0,i.Uk)(" type:           "),(0,i.Wm)(x,{onClick:f.selectAllType},{default:(0,i.w5)((()=>[(0,i.Uk)("全选")])),_:1},8,["onClick"]),(0,i.Wm)(x,{onClick:f.cancelSelectAllType},{default:(0,i.w5)((()=>[(0,i.Uk)("取消全选")])),_:1},8,["onClick"]),(0,i.Wm)(y,{modelValue:s.type,"onUpdate:modelValue":t[1]||(t[1]=e=>s.type=e),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"请选择",style:{width:"300px","padding-left":"20px"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mlegendsList[0].type,((e,t)=>((0,i.wg)(),(0,i.j4)(k,{key:t,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),p,g,(0,i.Uk)(" version:      "),(0,i.Wm)(x,{onClick:f.selectAllVersion},{default:(0,i.w5)((()=>[(0,i.Uk)("全选")])),_:1},8,["onClick"]),(0,i.Wm)(x,{onClick:f.cancelSelectAllVersion},{default:(0,i.w5)((()=>[(0,i.Uk)("取消全选")])),_:1},8,["onClick"]),(0,i.Wm)(y,{modelValue:s.version,"onUpdate:modelValue":t[2]||(t[2]=e=>s.version=e),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"请选择",style:{width:"300px","padding-left":"20px"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mlegendsList[0].version,((e,t)=>((0,i.wg)(),(0,i.j4)(k,{key:t,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),m])])}var v={data(){return{collapsed:!0,maxCheckBoxs:5,version:[],versionCollapsed:!0,shortname:[],shortnameCollapsed:!0,type:[],typeCollapsed:!0,updatelist:[]}},computed:{remainingShortnames(){return this.mlegendsList[0].shortname.length<=this.maxCheckBoxs?[]:this.mlegendsList[0].shortname.slice(this.maxCheckBoxs)},remainingTypes(){return this.mlegendsList[0].type.length<=this.maxCheckBoxs?[]:this.mlegendsList[0].type.slice(this.maxCheckBoxs)},remainingVersions(){return this.mlegendsList[0].version.length<=this.maxCheckBoxs?[]:this.mlegendsList[0].version.slice(this.maxCheckBoxs)},shortnameShowCollapse(){return this.remainingShortnames.length>0},typeShowCollapse(){return this.remainingTypes.length>0},versionShowCollapse(){return this.remainingVersions.length>0}},props:{mlegendsList:Object},methods:{sendParent:function(){this.updatelist=[{version:this.version,shortname:this.shortname,type:this.type}],this.$emit("updateLegendList",this.updatelist)},selectAllShortname:function(){this.shortname=this.mlegendsList[0].shortname},selectAllType:function(){this.type=this.mlegendsList[0].type},selectAllVersion:function(){this.version=this.mlegendsList[0].version},cancelSelectAllShortname:function(){this.shortname=[]},cancelSelectAllType:function(){this.type=[]},cancelSelectAllVersion:function(){this.version=[]},shortnameToggleCollapse(){this.shortnameCollapsed=!this.shortnameCollapsed},typeToggleCollapse(){this.typeCollapsed=!this.typeCollapsed},versionToggleCollapse(){this.shortnameCollapsed=!this.versionCollapsed},develop(){this.collapsed=!this.collapsed}}},x=n(89);const k=(0,x.Z)(v,[["render",f]]);var y=k;const w={class:"forceOrientationDiagram-container"};function _(e,t,n,a,s,l){return(0,i.wg)(),(0,i.iD)("div",w)}var C=n(2317),b={props:{graphdata:Object},data(){return{listenNode:"information"}},watch:{listenNode(e){console.log("子组件data绑定change!"),this.$emit("nodeclick",e)},graphdata:{deep:!0,handler(e){console.log(e),C.Ys(".forceOrientationDiagram").remove();for(var t=[],n=[],i=[],a=[],s=0;s<e.nodes.length;s++)t.push({name:e.nodes[s].name,shortname:e.nodes[s].shortname,type:e.nodes[s].type,version:e.nodes[s].version,maketype:e.nodes[s].maketype,links:0}),a.push(["name:"+t[s].name,"shortname:"+t[s].shortname,"type:"+t[s].type,"version"+t[s].version,"maketype:"+t[s].maketype]),-1==i.indexOf(t[s].maketype)&&i.push(t[s].maketype);for(s=0;s<e.links.length;s++){var l=-1,r=-1,o=0;while(l<0||r<0)t[o].name==e.links[s].source&&(l=o),t[o].name==e.links[s].target&&(r=o),o++;t[l].links++,t[r].links++,n.push({source:l,target:r})}var d="skyblue",c={top:0,bottom:60,left:0,right:60},h=C.Ys(".forceOrientationDiagram-container").append("svg").attr("class","forceOrientationDiagram").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0,0,500,500").attr("width","100%").attr("height","100%"),u=500,p=500,g=h.append("g").attr("transform","translate("+c.left+","+c.top+")"),m=C.PKp(C.Cn1),f=C.ohM().on("start",_).on("drag",b).on("end",L),v=C.A4v(t).force("charge",C.q5i()).force("link",C.Fsl(n)).force("center",C.wqt());v.nodes(t).on("tick",w),v.force("link").links(n).distance((function(){return 10})),v.force("center").x(u/2).y(p/2),v.alphaDecay(.05),v.force("charge").strength(-20);var x=g.append("g").selectAll("line").data(n).enter().append("line").attr("stroke",d).attr("class",(function(e){return"links"+e.index})).attr("stroke-width",1),k=g.selectAll(".circleText").data(t).enter().append("g").attr("transform",(function(e){var t=e.x,n=e.y;return"translate("+t+","+n+")"})).attr("class",(function(e){return"gs"+e.index}));const y=k.append("text").attr("class",(function(e){return"text"+e.index})).attr("x",20).attr("y",-20).attr("dy",10).attr("fill","green").attr("font-size",10).attr("visibility","hidden");for(s=0;s<t.length;s++)C.Ys(".text"+s).selectAll("tspan").data(a[s]).enter().append("tspan").attr("x",y.attr("x")).attr("dy","1em").text((function(e){return e}));function w(){x.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),k.attr("transform",(function(e){return"translate("+e.x+","+e.y+")"}))}function _(e){e.active||v.alphaTarget(.8).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}function b(e){e.subject.fx=e.x,e.subject.fy=e.y}function L(e){e.active||v.alphaTarget(0),e.subject.fx=null,e.subject.fy=null}k.append("circle").attr("class",(function(e){return"circle"+e.index})).attr("r",(function(e){return 5+e.links/50})).attr("fill",(function(e){return m(i.indexOf(e.maketype))})).on("mouseover",(function(e){C.Ys(".text"+e.target.__data__.index).attr("visibility","visible");for(var t=0;t<n.length;t++)n[t].source.name==e.target.__data__.name&&(C.Ys(".circle"+n[t].source.index).attr("r","20"),C.Ys(".circle"+n[t].target.index).attr("r","13"),C.Ys(".links"+n[t].index).attr("stroke-width","5")),n[t].target.name==e.target.__data__.name&&(C.Ys(".circle"+n[t].source.index).attr("r","13"),C.Ys(".circle"+n[t].target.index).attr("r","20"),C.Ys(".links"+n[t].index).attr("stroke-width","5"))})).on("click",(function(e){this.listenNode=e.target.__data__.name,console.log(e.target.__data__)})).on("mouseout",(function(e){C.Ys(".text"+e.target.__data__.index).attr("visibility","hidden");for(var t=0;t<n.length;t++)n[t].source.name!=e.target.__data__.name&&n[t].target.name!=e.target.__data__.name||(C.Ys(".circle"+n[t].source.index).attr("r",(function(e){return 5+e.links/50})),C.Ys(".circle"+n[t].target.index).attr("r",(function(e){return 5+e.links/50})),C.Ys(".links"+n[t].index).attr("stroke-width","1"))})).call(f)}}},mounted(){}};const L=(0,x.Z)(b,[["render",_]]);var D=L,V=n(4161);const P={class:"detail"},S={class:"legendbox-container"},A={class:"upper-container"},O={class:"ForceOrientationDiagram-container"},W=(0,i._)("div",{style:{height:"20px"}},null,-1),E={class:"detailInformation-container"},j={class:"backstudent"},Y=(0,i._)("h2",null,"详细信息",-1),U={id:"detailText",style:{color:"white"}},I={style:{color:"#ff7bac"}},H={style:{width:"95%","margin-top":"1.5%",margin:"auto"}},N={class:"table"},T=(0,i._)("caption",{style:{"text-align":"left"}}," 组件相关漏洞 ",-1),z={style:{background:"linear-gradient(to right, #7400bfcc, #ff7baccc)"}},B=(0,i._)("th",null,"序号",-1),K=(0,i._)("th",null,"查看详情",-1),R=["onClick"],F=(0,i._)("span",null,"详细信息",-1),M=[F],Z={style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center","padding-top":"20px","padding-bottom":"20px",width:"100%"}},J={style:{display:"flex","flex-direction":"row",color:"white","align-items":"center","padding-left":"10px"}},X=(0,i._)("span",null,"每页",-1),q=(0,i._)("span",null,"条",-1),$={data(){return{whatnode:"i don't know",legendlist:[{version:[],shortname:[],type:[]}],updateLegendList:[],relation:[],updatedRelation:[],clickWhat:0,showtable:["ID","vendor","danger","fix","publishedDate"],CVES:[{index:0,ID:"CVE-2011-1498",vendor:"apache",danger:"LOW",fix:"null",publishedDate:"2011-07-07",description:"Apache HttpClient 4.x before 4.1.1 in Apache HttpComponents, when used with an authenticating proxy server, sends the Proxy-Authorization header to the origin server, which allows remote web servers to obtain sensitive information by logging this header. "},{index:1,ID:"CVE-2012-5783",vendor:"cve@mitre.org",danger:"LOW",fix:"null",publishedDate:"2012-11-04",description:"Apache Commons HttpClient 3.x, as used in Amazon Flexible Payments Service (FPS) merchant Java SDK and other products,  does not verify that the server hostname matches a domain name in the subject's Common Name (CN) or subjectAltName field of the X.509 certificate, which allows man-in-the-middle attackers to spoof SSL servers via an arbitrary valid certificate. "},{index:2,ID:"CVE-2013-4366",vendor:"secalert@redhat.com ",danger:"HIGH",fix:"null",publishedDate:"2017-10-30",description:"http/impl/client/HttpClientBuilder.java in Apache HttpClient 4.3.x before 4.3.1 does not ensure that X509HostnameVerifier is not null, which allows attackers to have unspecified impact via vectors involving hostname verification."},{index:3,ID:"CVE-2014-3577",vendor:"secalert@redhat.com ",danger:"LOW",fix:"null",publishedDate:"2014-08-21",description:"org.apache.http.conn.ssl.AbstractVerifier in Apache HttpComponents HttpClient before 4.3.5 and HttpAsyncClient before 4.0.2 does not properly verify that the server hostname matches a domain name in the subject's Common Name (CN) or subjectAltName field of the X.509 certificate, which allows man-in-the-middle attackers to spoof SSL servers via a 'CN='' string in a field in the distinguished name (DN) of a certificate, as demonstrated by the 'foo,CN=www.apache.org' string in the O field. "}],itemsPerPage:20,userInputItemsPerPage:"",currentPage:1}},computed:{currentPageCVEs(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.CVES.slice(e,t)},totalPages(){return Math.ceil(this.CVES.length/this.itemsPerPage)}},watch:{clickWhat(e){console.log(e,"change!")},whatnode(e){console.log("whatnode",e,"change!")},updateLegendList(e){var t,n,i;console.log("复选框传值成功",e),t=[],n=[],i=[];for(var a=0;a<this.relation.nodes.length;a++)-1!=this.updateLegendList[0].shortname.indexOf(this.relation.nodes[a].shortname)&&-1!=this.updateLegendList[0].type.indexOf(this.relation.nodes[a].type)&&-1!=this.updateLegendList[0].version.indexOf(this.relation.nodes[a].version)&&(t.push(this.relation.nodes[a]),n.push(this.relation.nodes[a].name));for(a=0;a<this.relation.links.length;a++)-1!=n.indexOf(this.relation.links[a].source)&&-1!=n.indexOf(this.relation.links[a].target)&&i.push(this.relation.links[a]);this.updatedRelation.nodes=t,this.updatedRelation.links=i}},mounted(){var e=this;V.Z.get("../dubbo-2.6.11-frontend.json").then((t=>{e.relation=t.data,console.log("读取完成",e.relation);for(var n=0;n<e.relation.nodes.length;n++)-1==this.legendlist[0].shortname.indexOf(e.relation.nodes[n].shortname)&&this.legendlist[0].shortname.push(e.relation.nodes[n].shortname),-1==this.legendlist[0].type.indexOf(e.relation.nodes[n].type)&&this.legendlist[0].type.push(e.relation.nodes[n].type),-1==this.legendlist[0].version.indexOf(e.relation.nodes[n].version)&&this.legendlist[0].version.push(e.relation.nodes[n].version);const i=e=>JSON.parse(JSON.stringify(e));this.updatedRelation=i(this.relation),this.updateLegendList=this.legendlist}))},methods:{greet(e){this.clickWhat=e},nodeclick(e){this.whatnode=e},changeLegendList(e){this.updateLegendList=e},lastPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++}},created(){V.Z.get("../dubbo-2.6.11-frontend.json").then((e=>{let t=e.data.report.length,n=e.data.report;for(let i=0;i<t;i++)if(i>=4){const e={ID:n[i].CVE_ID,vendor:n[i].vendor,danger:n[i].danger,fix:n[i].fix,publishedDate:n[i].publishedDate,description:n[i].CVEDescription};this.CVES.push(e)}else this.CVES[i].ID=n[i].CVE_ID,this.CVES[i].vendor=n[i].vendor,this.CVES[i].description=n[i].CVEDescription,this.CVES[i].danger=n[i].danger,this.CVES[i].fix=n[i].fix,this.CVES[i].publishedDate=n[i].publishedDate;for(let i=0;i<this.CVES.length;i++)this.CVES[i].index=i}))}};var G=Object.assign($,{__name:"Details",setup(e){return(e,t)=>{const n=(0,i.up)("el-button"),s=(0,i.up)("el-input");return(0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",S,[(0,i.Wm)(y,{onUpdateLegendList:e.changeLegendList,mlegendsList:e.legendlist},null,8,["onUpdateLegendList","mlegendsList"])]),(0,i._)("div",A,[(0,i._)("div",O,[(0,i.Wm)(D,{onNodeclick:e.nodeclick,graphdata:e.updatedRelation},null,8,["onNodeclick","graphdata"])])]),W,(0,i._)("div",E,[(0,i._)("div",j,[Y,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.CVES[e.clickWhat],((e,t)=>((0,i.wg)(),(0,i.iD)("h3",U,[(0,i._)("span",I,(0,a.zw)(t),1),(0,i.Uk)(":"+(0,a.zw)(e),1)])))),256))])]),(0,i._)("div",H,[(0,i._)("div",N,[(0,i._)("table",null,[T,(0,i._)("thead",null,[(0,i._)("tr",z,[B,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.showtable,(e=>((0,i.wg)(),(0,i.iD)("th",null,(0,a.zw)(e),1)))),256)),K])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.currentPageCVEs,((t,n)=>((0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,(0,a.zw)(t.index+1),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.showtable,(e=>((0,i.wg)(),(0,i.iD)("td",null,(0,a.zw)(t[e]),1)))),256)),(0,i._)("td",null,[(0,i._)("button",{class:"button1",onClick:t=>e.greet(n)},M,8,R)])])))),256))])])])]),(0,i._)("div",Z,[(0,i.Wm)(n,{onClick:t[0]||(t[0]=t=>e.lastPage())},{default:(0,i.w5)((()=>[(0,i.Uk)("上一页")])),_:1}),(0,i.Wm)(n,{onClick:t[1]||(t[1]=t=>e.nextPage())},{default:(0,i.w5)((()=>[(0,i.Uk)("下一页")])),_:1}),(0,i._)("div",J,[X,(0,i.Wm)(s,{modelValue:e.userInputItemsPerPage,"onUpdate:modelValue":t[2]||(t[2]=t=>e.userInputItemsPerPage=t),width:"100"},null,8,["modelValue"]),q]),(0,i.Wm)(n,{onClick:t[3]||(t[3]=e=>this.itemsPerPage=this.userInputItemsPerPage)},{default:(0,i.w5)((()=>[(0,i.Uk)("确认更改")])),_:1})])])}}});const Q=G;var ee=Q}}]);
//# sourceMappingURL=607.056f9dc9.js.map